<header>
  <app-admin-navbar></app-admin-navbar>
</header>
<br>
<main>
  <!-- Título -->
  <section>
    <div class="container text-center">
      <div class="row">
        <div class="col">
          <h1 class="tit-clientes">Clientes</h1>
        </div>
      </div>
    </div>
  </section>
  <br>

  <!-- Busqueda y Agregar -->
  <section>
    <div class="container buscar-agg">
      <div class="row">
        <!-- Buscar -->
        <div class="col-sm-12 col-md-6 col-lg-6">
          <div class="search">
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Buscar Cliente..." id="search-input">
            </div>
          </div>
        </div>

        <!-- Agregar Cliente -->
        <div class="col-sm-12 col-md-6 col-lg-6 text-end">
          <div class="agg-cli">
            <button class="btn agregar" type="button" data-bs-toggle="offcanvas" data-bs-target="#addClienteOffcanvas" aria-controls="addClienteOffcanvas">
              Agregar Cliente
            </button>
            <div class="offcanvas offcanvas-start" data-bs-backdrop="static" tabindex="-1" id="addClienteOffcanvas" aria-labelledby="addClienteLabel">
              <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="addClienteLabel">Registrar Cliente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                <app-add-clientes (actualizar)="actualizarLista()"></app-add-clientes>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Tabla de clientes -->
  <section>
    <div class="container mt-3">
      <table class="table table-bordered">
        <thead class="table-secondary">
          <tr>
            <th>Nombre De Cliente</th>
            <th>Teléfono</th>
            <th>Correo</th>
            <th>N° Deudas</th>
            <th>N° Compras</th>
            <th>Estado de Cliente</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let cliente of clientes">
            <td class="td1" data-label="Nombre De Cliente">
              <img src="../../assets/img/icons-navbar/Clientes.png" alt="Cliente" width="30px" height="30px">
              <a>{{ cliente.clienteNom }} {{ cliente.clienteApel }}</a>
            </td>
            <td data-label="Teléfono">{{ cliente.clienteTel }}</td>
            <td data-label="Correo">{{ cliente.clienteCor }}</td>
            <td data-label="N° Deudas">0</td>
            <td data-label="N° Compras">0</td>
            <td data-label="Estado de Cliente">
              <span class="status" [ngClass]="cliente.clienteEst.toLowerCase()">
                {{ cliente.clienteEst }}
              </span>
            </td>
            <td data-label="Acciones">
              <button class="btn modificar" (click)="abrirModificar(cliente)">Modificar</button>
              <button class="btn eliminar" (click)="eliminarCliente(cliente.idcliente)">Eliminar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- Modal / Offcanvas modificar cliente -->
  <div class="offcanvas offcanvas-start" tabindex="-1" id="modifyOffcanvas" aria-labelledby="modifyOffcanvasLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="modifyOffcanvasLabel">Modificar Cliente</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <app-modify-clientes [cliente]="selectedCliente" (actualizar)="actualizarLista()"></app-modify-clientes>
    </div>
  </div>
</main>
